{{ define "title" }}{{ .Title }} - {{ .Site.Title }}{{ end }}

{{ define "bodyclass" }}search{{ end }}

{{ define "stylesheets" }}
<link href="{{ relURL "pagefind/pagefind-ui.css" }}" rel="stylesheet">
{{ end }}

{{ define "javascripts" }}
	<script src="{{ relURL "pagefind/pagefind-ui.js" }}"></script>
	<script>
		window.addEventListener('DOMContentLoaded', (event) => {
			const search = new PagefindUI({
				element: '#search',
				showImages: false,
				showSubResults: true,
				autofocus: true,
				// sort: { date: 'desc' },
				pageSize: 10,
			});

			const params = new URLSearchParams(window.location.search);
			const query = params.get('q');
			if (query) {
				search.triggerSearch(query);
			}
		});
	</script>
{{ end }}

{{ define "body" }}
	{{ partial "header.html" . }}
	<article class="container py-3">
		{{ .Content }}
		<div id="search"></div>
	</article>
{{ end }}
